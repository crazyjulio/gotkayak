%h1 Listing products
= paginate @products
%table.itunes_table
  %thead
    %tr
      %th{:scope => "col"} Manufacturer
      %th{:scope => "col"} Name
      %th{:scope => "col"} Length
      %th{:scope => "col"} Width
      %th{:scope => "col"} Height
      %th{:scope => "col"} Weight
      %th{:scope => "col"} Type
      %th{:scope => "col"} Description
      %th{:scope => "col"} Image?
      %th{:scope => "col"}
      %th{:scope => "col"}
      %th{:scope => "col"}

  - @products.each_with_index do |product,i|
    - if i.odd?
      %tr.odd
        %td= product.manufacturer.name
        %td= product.name
        - unless product.length.blank?
          %td #{number_to_feet product.length}
        - else
          %td
        - unless product.width.blank?
          %td #{product.width}"
        - else
          %td
        - unless product.height.blank?
          %td #{product.height}"
        - else
          %td
        - unless product.weight.blank?
          %td #{number_to_pounds product.weight}
        - else
          %td
        %td= product.product_type
        %td= snippet(product.description, :word_count => 10)
        - if product.images.length > 0
          %td.happy YES
        - else
          %td.sad NO
        %td= link_to 'Show', product
        %td= link_to 'Edit', edit_product_path(product)
        %td= link_to 'Destroy', product, :confirm => 'Are you sure?', :method => :delete
    - else
      %tr
        %td= product.manufacturer.name
        %td= product.name
        - unless product.length.blank?
          %td #{number_to_feet product.length}
        - else
          %td
        - unless product.width.blank?
          %td #{product.width}"
        - else
          %td
        - unless product.height.blank?
          %td #{product.height}"
        - else
          %td
        - unless product.weight.blank?
          %td #{number_to_pounds product.weight}
        - else
          %td
        %td= product.product_type
        %td= snippet(product.description, :word_count => 10)
        - if product.images.length > 0
          %td.happy YES
        - else
          %td.sad NO
        %td= link_to 'Show', product
        %td= link_to 'Edit', edit_product_path(product)
        %td= link_to 'Destroy', product, :confirm => 'Are you sure?', :method => :delete
.clearboth
= paginate @products
%br

= link_to 'New Product', new_product_path
\|
= link_to 'Product Versions', versions_path
\|
= link_to 'Product Features', features_path
